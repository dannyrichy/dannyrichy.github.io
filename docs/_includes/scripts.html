<script>
    document.addEventListener("DOMContentLoaded", function () {
        const currentPath = window.location.pathname; // Get the full current path
        const navLinks = document.querySelectorAll(".top-nav a");

        navLinks.forEach(link => {
            const linkPath = link.getAttribute("href");

            // Special handling for root page ("/") to only highlight "About"
            if (linkPath === "/" && (currentPath === "/" || currentPath === "" || currentPath === "/index")) {
                link.classList.add("active");
            }
            else if (linkPath === "/cv" && currentPath === "/cv") {
                link.classList.add("active");
            }
            else if (linkPath === "/me" && currentPath === "/me") {
                link.classList.add("active");
            }
            else if (currentPath.startsWith("/tut") && linkPath === "/tut") {
                link.classList.add("active");
            }
            else if (linkPath === "/hist" && currentPath === "/hist") {
                link.classList.add("active");
            }
            // Highlight "Notes" link if we are in /notes/* paths
            else if (currentPath.startsWith("/notes") && linkPath === "/notes") {
                link.classList.add("active");
            }
            // Remove "active" class for other links
            else {
                link.classList.remove("active");
            }
        });
    });
</script>